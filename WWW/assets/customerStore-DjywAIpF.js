import{h as w,b as a,i as d}from"./index-BeQU7anV.js";import{f as g}from"./index-C1Q4PVne.js";const L=w("customer",()=>{const r=a([]),f=a(!0),m=a([]),c=6,s=a(1),n=a(""),p=d(()=>Math.ceil(u.value.length/c)),k=d(()=>{const e=(s.value-1)*c,t=e+c;return u.value.slice(e,t)}),x=async()=>{try{const{data:e}=await g.get("/customers");r.value=[...e],m.value=[...e]}catch(e){console.error("Erreur lors de la récupération des clients :",e)}finally{f.value=!1}},y=async e=>{try{const{data:t}=await g.get(e);return t}catch(t){console.error("Erreur lors de la récupération des clients :",t)}},C=()=>{s.value>1&&(s.value-=1)},D=()=>{const e=u.value.length;s.value*c<e&&(s.value+=1)},u=d(()=>n.value.trim()?r.value.filter(e=>e.contactName.toLowerCase().includes(n.value.toLowerCase())):r.value),i=(e,t="asc")=>{if(t==="default"){r.value=[...m.value];return}r.value.sort((o,b)=>{for(let h of e){const I=o[h]||"",P=b[h]||"",l=I.localeCompare(P,void 0,{numeric:!0,sensitivity:"base"});if(l!==0)return t==="asc"?l:-l}return 0})},O=(e,t)=>{switch(v.value[e].attributes.forEach(o=>{o.check=o.id===t}),t){case"2":i([e,"customerID"],"asc");break;case"3":i([e,"customerID"],"desc");break;default:i([e,"customerID"],"default");break}},v=a({customerID:{about:"customerID",title:"ID",attributes:[{id:"1",text:"Défaut",check:!0},{id:"2",text:"Ordre croissant",check:!1},{id:"3",text:"Ordre décroissant",check:!1}]},contactName:{about:"contactName",title:"NOM",attributes:[{id:"1",text:"Défaut",check:!0},{id:"2",text:"Ordre croissant",check:!1},{id:"3",text:"Ordre décroissant",check:!1}]},country:{about:"country",title:"Pays",attributes:[{id:"1",text:"Défaut",check:!0},{id:"2",text:"Ordre croissant",check:!1},{id:"3",text:"Ordre décroissant",check:!1}]}});return{loading:f,prevPage:C,nextPage:D,paginatedCustomers:k,totalPages:p,getCustomers:x,customers:r,currentPage:s,sortingOptions:v,sortedCustomer:O,searchQuery:n,getTop:y}});export{L as u};
